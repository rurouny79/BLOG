server setting in ubuntu 21.10

cpu : 5950x
mainboard : ASUS TUF GAMING B550-PRO 

1. bios option
- Load optimized default
- PBO : Auto -> Enable
- XMP : Auto -> Profile1

1. install docker
  $ sudo apt-get remove docker docker-engine docker.io containerd runc
  $ sudo apt-get update
  $ sudo apt-get install \
    ca-certificates \
    curl \
    gnupg \
    lsb-release
  $ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
  $ sudo apt-get update
  $ sudo apt-get install docker-ce docker-ce-cli containerd.io
  $ sudo docker run hello-world

1. install mining service

1. install image server
  * ?????

1. wol setting
  * /etc/systemd/system/wol.service
    - [Unit]
    - Description=Enable Wake On Lan
    - [Service]
    - Type=oneshot
    - ExecStart=/sbin/ethtool --change enp6s0 wol g
    - [Install]
    - WantedBy=basic.target
  * sudo systemctl daemon-reload
  * sudo systemctl enable wol.service
  * install android wol app -> udp / portnumber 9 (gigabyte mainboard)

1. code-server
  * curl -fsSL https://code-server.dev/install.sh | sh
  * /home/ruro/.config/code-server/config.yaml
    - bind-addr: 0.0.0.0:443
    - auth: password
    - password: '????????'
    - cert: true
  * Allows code-server to listen on port 443
    - sudo setcap cap_net_bind_service=+ep /usr/lib/code-server/lib/node

1. smbd
  * /etc/samba/smb.conf
    - [homes]
    - comment = Home Directories
    - browseable = no
    - read only = no
    - valid users = %S
    - path = /data/samba
  * (Optional) sudo smbpasswd -a <username>

1. svn (https)
  * apt install subversion apache2 libapache2-mod-svn
  * vi /etc/apache2/mods-available/dav_svn.conf
    - <Location /svn>
    - DAV svn
    - SVNParentPath /data/svn
    - AuthType Basic
    - AuthName "Blackbox Subversion repositories"
    - AuthUserFile /data/svn/dav_svn.passwd
    - Require valid-user
    - </Location>
  * mkdir /data/svn
  * htpasswd -c /data/svn/dav_svn.passwd ruro
  * svnadmin create /data/svn/main
  * svnadmin load /data/svn/main < svn.dump
  * chown -R www-data:www-data /data/svn
  * a2enmod ssl
  * a2ensite default-ssl
  * systemctl reload apache2
  * (Optional) vi /etc/apache2/sites-available/default-ssl.conf
    - SSLCertificateFile : 인증서위치(.crt)
    - SSLCertificateKeyFile : 개인키위치(.key)
  * (Optional-not using apache2) svn list svn+ssh://ruro@192.168.0.2/data/svn/main

1. disk check
  * sudo smartctl --all /dev/sdb
  
1. gui (rdp:3389)
  * sudo apt install xrdp xfce4
  * sudo apt install firefox
  
1. docker container moving
  $ docker commit container_name > image_name
  $ docker save image_name > image_name.tar
  $ cat image_name.tar | docker load

